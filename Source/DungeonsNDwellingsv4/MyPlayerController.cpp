// Fill out your copyright notice in the Description page of Project Settings.

#include "MyPlayerController.h"
#include "Blueprint/UserWidget.h"

//Basic functionality////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void AMyPlayerController::BeginPlay()
{
	Super::BeginPlay();
	isTextPopupActive = false;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Function to display item text widget to player/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void AMyPlayerController::DisplayTextPopup()
{
	if (isTextPopupActive == false)
	{
		if (TextPopupClass != nullptr)
		{
			TextWidget = CreateWidget<UUserWidget>(GetWorld(), TextPopupClass);
			if (TextWidget != nullptr)
			{
				TextWidget->AddToViewport();
				isTextPopupActive = true;
			}
		}
	}
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Function to remove item text widget from viewport//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void AMyPlayerController::RemoveTextPopup()
{
	if (TextWidget != nullptr)
	{
		TextWidget->RemoveFromViewport();
		isTextPopupActive = false;
	}
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Function to display pause menu to player on button press///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void AMyPlayerController::OpenPauseMenu()
{
	if (PauseMenuClass != nullptr)
	{
		PauseMenuWidget = CreateWidget<UUserWidget>(GetWorld(), PauseMenuClass);
		if (PauseMenuWidget != nullptr)
		{
			PauseMenuWidget->AddToViewport();
			bShowMouseCursor = true;
		}
	}
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Function to return a text value - hello is default but it is always overridden in widget blueprint/////////////////////////////////////////////////////////////////////////////
FString AMyPlayerController::GetItemText()
{
	return ("Hello");
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



